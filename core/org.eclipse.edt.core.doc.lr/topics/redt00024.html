<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
<meta name="DC.Type" content="topic"></meta>
<meta name="DC.Title" content="Get statement for a relational database"></meta>
<meta name="DC.subject" content="EGL statements, get, get EGL statement, relational database"></meta>
<meta name="keywords" content="EGL statements, get, get EGL statement, relational database"></meta>
<meta name="DC.Relation" scheme="URI" content="../topics/redt00044.html"></meta>
<meta name="copyright" content="(C) Copyright 2011" type="primary"></meta>
<meta name="DC.Rights.Owner" content="(C) Copyright 2011" type="primary"></meta>
<meta name="DC.Format" content="XHTML"></meta>
<meta name="DC.Identifier" content="redt00021"></meta>
<meta name="DC.Language" content="en-us"></meta>
<link rel="stylesheet" type="text/css" href="../../PRODUCT_PLUGIN/style/commonltr.css"></link>
<title>Get statement for a relational database</title>
</head>
<body id="redt00021"><a name="redt00021"><!-- --></a>


<h1 class="topictitle1">Get statement for a relational database</h1>



<div id="body"><a name="body"><!-- --></a><div><span>You can use the EGL <span class="synph"><span class="kwd">get</span></span> statement
to retrieve one or more rows from a relational database.</span>
 </div>

<p>To retrieve multiple rows, reference an entity list (entity[ ]).
In that case, data from the accessed rows is read into the corresponding
elements of the entity list; and the elements are allocated if they
do not already exist.</p>

<p>If you do not reference an entity list and if multiple rows are
returned, only the first row is processed.</p>

<anchor id="sql_intro_more"></anchor>

<div class="section" id="redt00021__sql_syntax"><a name="redt00021__sql_syntax"><!-- --></a><h2 class="sectiontitle">Syntax</h2><div class="fignone" id="redt00021__sql_syntax_figure"><a name="redt00021__sql_syntax_figure"><!-- --></a>
<br></br><img src="../images/redt_data_sql_get.gif" alt="Syntax diagram for the get statement with SQL"></img><br></br>
</div>
<dl>
<dt class="dlterm"><var class="varname">entity</var></dt>

<dd>Name of the entity, which is a variable based on an External type,
Handler type, or Record type. The values in that entity are used in
the corresponding SQL SELECT statement. <div class="p">If you specify an entity
and do not specify the SQL statement, the following default is used: <pre class="codeblock">SELECT 
   <em>column_1</em>, <em>column_2</em>... <em>column_n</em>
   FROM <em>tableName</em>
   WHERE <em>ID_column_1</em> = ? AND <em>ID_column_2</em> = ? ... AND <em>ID_column_n = ?</em></pre>
</div>
<div class="p">The
default SELECT statement retrieves data from all columns in the table:<ul>
<li> The order of the column fields in the statement reflects the
order of the fields in the type definition.</li>

<li>A <em>column</em> entry such as <em>column_1</em> is a name; specifically,
the value of the <strong>Column</strong> annotation for a field in the type
definition. If that annotation is missing from the field in the type
definition, the name in the statement is the name of the field in
the type definition.</li>

</ul>
</div>
<p>The value of <em>tableName</em> is the value of the <strong>Table</strong> annotation
that is set on the entity type. If that annotation is missing from
the type definition, the value of <em>tableName</em> is the type name.</p>
<p>The
default WHERE clause references only the <em>key fields</em>, which
are the entity fields that have an <strong>ID</strong> annotation. The order
of the columns listed in the WHERE clause reflects the order of the
key fields. </p>
<div class="p">When you are specifying an entity, each question
mark is replaced with a value:<ul>
<li>For default processing, the behavior is as follows:<ul>
<li>If you do not specify the <strong>using</strong> clause, the replacement
value is the corresponding value in the entity.</li>

<li>If you specify a <strong>using</strong> clause, the replacement value is
the corresponding value in the <strong>using</strong> clause.</li>

</ul>
</li>

<li>If you specify an entity and a custom SQL SELECT statement, the
behavior is as follows:<ul>
<li>If you do not specify the <strong>using</strong> clause, the replacement
value is the corresponding value in the entity. <p>A question mark
represents the value of a key field, with the first question mark
corresponding to the first key field, the second question mark to
the second key field, and so forth. The statement can include fewer
question marks than the number of key fields but cannot include more.</p>
</li>

<li>If you specify a <strong>using</strong> clause, the replacement value is
the corresponding value in the <strong>using</strong> clause. In this case,
you can reference fields other than key fields.</li>

</ul>
</li>

</ul>
</div>
</dd>


<dt class="dlterm"><var class="varname">entity[ ]</var></dt>

<dd><p>If you specify an entity list and do not specify an SQL statement,
the default statement is as explained earlier but without a WHERE
clause. The effect is to return all rows from the table.</p>
<p>If
you specify a custom SELECT statement and include a WHERE clause,
the question marks must be resolved by values in the <strong>using</strong> clause,
not by values in the entity list. In this case, you can reference
table columns other than those that are identified by key fields.</p>
</dd>


<dt class="dlterm"><var class="varname">simpleValue</var></dt>

<dd>A value of an EGL simple type that is compatible with the corresponding
database column. The list of simple values is set into the values
clause to match the list of column entries.<p>If you are adding simple
values instead of an entity, you must specify an SQL SELECT statement.
The statement format is as shown for <em>entity</em>.</p>
</dd>


<dt class="dlterm"><var class="varname">SQLDataSource</var></dt>

<dd>A variable of type <strong>SQLDataSource</strong>. The variable includes
connection details or references an EGL deployment descriptor entry
that provides access to the connection details.<p>If you issue a prepared
statement, the variable is optional and is ignored if present.</p>
</dd>


<dt class="dlterm"><var class="varname">SQLResultSet</var></dt>

<dd>An SQL result set that was established by an <strong>open</strong> statement.
In this case, the <strong>get</strong> statement fetches the current row.</dd>


<dt class="dlterm"><var class="varname">stmt</var></dt>

<dd>A single SQL SELECT statement, which is not required to end with
a semicolon but can. You can use a prepared statement in place of
#sql{<em>stmt</em>}.<p>For further details, see the documentation for <em>entity</em>,
which shows the statement format, and for <em>entity[ ]</em> and <em>simpleValue</em>.</p>
</dd>

</dl>
<anchor id="sql_syntax_more"></anchor></div>

<div class="example" id="redt00021__sql_example"><a name="redt00021__sql_example"><!-- --></a><pre class="codeblock"></pre>
<anchor id="sql_example_more"></anchor></div>

<div class="section" id="redt00021__compat"><a name="redt00021__compat"><!-- --></a><h2 class="sectiontitle">Compatibility </h2>
<div class="tablenoborder"><a name="redt00021__compat_table"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="redt00021__compat_table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 1. Compatibility</span></caption>
<thead align="left">
<tr valign="bottom">
<th class="cellrowborder" valign="bottom" width="50%" id="d14139e277">Target</th>

<th class="cellrowborder" valign="bottom" width="50%" id="d14139e280">Issue</th>

</tr>

</thead>

<tbody>
<anchor id="compat_rows_start"></anchor>
<tr id="redt00021__compat_java">
<td class="cellrowborder" valign="top" width="50%" headers="d14139e277 ">Java</td>

<td class="cellrowborder" valign="top" width="50%" headers="d14139e280 ">No issues<anchor id="compat_java_more"></anchor></td>

</tr>

<anchor id="compat_rows_postjava"></anchor>
<tr id="redt00021__compat_javascript">
<td class="cellrowborder" valign="top" width="50%" headers="d14139e277 ">JavaScript</td>

<td class="cellrowborder" valign="top" width="50%" headers="d14139e280 ">Database access is not supported in JavaScript.<p class="compat_javascript_more"></p>
</td>

</tr>

<anchor id="compat_rows_postjavascript"></anchor>
<anchor id="compat_rows_end"></anchor>
</tbody>

</table>
</div>
</div>

</div>


<anchor id="related_links"></anchor>

</body>
</html>